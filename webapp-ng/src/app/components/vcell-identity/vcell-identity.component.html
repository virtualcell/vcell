<div class="container mt-5" *ngIf="auth.user$ | async as user">
  <h4>
    Virtual Cell now uses <a href="https://auth0.com">Auth0.com</a> to secure access to your models and simulations using; (1) VCell Desktop, (2) VCell WebApp, (3) Python VCell API library in Jupyter notebooks (coming soon)</h4>
  <div>
    <p>Our VCell APIFor the Desktop VCell UI, you will need to enter your VCell userid and password to claim your existing VCell userid</p>
  </div>
  <div *ngIf="vcellUserId; else setIdentity">
    <p>VCell User ID: {{ vcellUserId }}</p>
    <button (click)="clearMappedUser()"> VCell User ID</button>
  </div>


  <ng-template #setIdentity>

    <!-- Form for mapping to an existing VCell user -->
    <form class="form-table" (ngSubmit)="setMappedUser()">
      <h3>Claim your existing VCell userid</h3>
      <p>This provides access to your existing VCell models.  Please use your legacy vcell userid and password</p>
      <table>
        <tr>
          <td><label for="userid">User ID:</label></td>
          <td><input type="text" id="userid" name="userid" [(ngModel)]="mapUser.userID"></td>
        </tr>
        <tr>
          <td><label for="password">Password:</label></td>
          <td><input type="password" id="password" name="password" [(ngModel)]="mapUser.password"></td>
        </tr>
      </table>
      <input class="submit-button" type="submit" value="Submit">
    </form>

    <!-- Form for creating a new VCell user -->
    <form class="form-table" (ngSubmit)="mapNewUser()">
      <h3>Create a new VCell userid</h3>
      <table>
        <tr>
          <td><label for="newUserid">User ID:</label></td>
          <td><input type="text" id="newUserid" name="newUserid" [(ngModel)]="newUser.userID"></td>
        </tr>
        <tr>
          <td><label for="country">Country:</label></td>
          <td><input type="text" id="country" name="country" [(ngModel)]="newUser.country"></td>
        </tr>
        <tr>
          <td><label for="title">Title:</label></td>
          <td><input type="text" id="title" name="title" [(ngModel)]="newUser.title"></td>
        </tr>
        <tr>
          <td><label for="organization">Organization:</label></td>
          <td><input type="text" id="organization" name="organization" [(ngModel)]="newUser.organization"></td>
        </tr>
        <tr>
          <td><label for="email_notification">Allow email notification</label></td>
          <td><input type="checkbox" id="email_notification" name="email notification" [(ngModel)]="newUser.emailNotification"></td>
        </tr>
      </table>
      <input class="submit-button" type="submit" value="Submit">
    </form>  </ng-template>
</div>
