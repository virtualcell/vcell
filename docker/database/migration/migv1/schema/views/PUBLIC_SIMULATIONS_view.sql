-- Generated by Ora2Pg, the Oracle database Schema converter, version 24.3
-- Copyright 2000-2024 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=vcell-oracle.cam.uchc.edu;service_name=ORCLPDB1;port=1521

SET client_encoding TO 'UTF8';

SET search_path = vcell,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW public_simulations (biomodel_public_simulations, math_public_simulations, total_public_simulations) AS (select (SELECT COUNT(*)  FROM VC_SIMULATION WHERE VC_SIMULATION.ID IN (SELECT DISTINCT VC_SIMULATION.ID FROM VC_BIOMODEL, VC_SIMULATION, VC_BIOMODELSIM WHERE VC_SIMULATION.ID = VC_BIOMODELSIM.simref AND VC_BIOMODEL.ID = VC_BIOMODELSIM.biomodelref AND vc_biomodel.privacy = 0)) biomodel_public_simulations,
(SELECT COUNT(*)  FROM VC_SIMULATION WHERE VC_SIMULATION.ID IN (SELECT DISTINCT VC_SIMULATION.ID FROM VC_MATHMODEL, VC_SIMULATION, VC_MATHMODELSIM WHERE VC_SIMULATION.ID = VC_MATHMODELSIM.simref AND VC_MATHMODEL.ID = VC_MATHMODELSIM.mathmodelref AND VC_MATHMODEL.privacy = 0)) math_public_simulations,
(SELECT COUNT(*)  FROM VC_SIMULATION WHERE VC_SIMULATION.ID IN (SELECT DISTINCT VC_SIMULATION.ID FROM VC_BIOMODEL, VC_SIMULATION, VC_BIOMODELSIM WHERE VC_SIMULATION.ID = VC_BIOMODELSIM.simref AND VC_BIOMODEL.ID = VC_BIOMODELSIM.biomodelref AND vc_biomodel.privacy = 0))
+ (SELECT COUNT(*)  FROM VC_SIMULATION WHERE VC_SIMULATION.ID IN (SELECT DISTINCT VC_SIMULATION.ID FROM VC_MATHMODEL, VC_SIMULATION, VC_MATHMODELSIM WHERE VC_SIMULATION.ID = VC_MATHMODELSIM.simref AND VC_MATHMODEL.ID = VC_MATHMODELSIM.mathmodelref AND VC_MATHMODEL.privacy = 0)) total_public_simulations
)
;

